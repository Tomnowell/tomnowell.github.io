# Making a private VPN using Azure (or any cloud provider)

## What? Where? Why?

I recently had a need to make a payment using a VISA card over the internet. I wanted to take advantage of Hack the Box generous Black Friday deal and I wanted to pay for it in GBP. While the GBP is not doing very well at the moment compared to historical highs, I live in Japan and the yen is doing much worse. 

Very few (if any) VPN services offer a free trial any more. Opting instead to offer 30 day money-back guarantees if you are not 'satisfied'. Not wanting to hand over any money to these VPN companies or discuss the subjective level of satisfaction after a 30 day trial. I thought there must be a way to quickly spin up a VPN server in the U.K. connect to it, make a payment and then shut it down. The amount of compute time and bandwidth would almost certainly cost less than a penny if not be totally included in the free tier of most cloud providers services.

I used Azure just because I am most familiar with it being certified as a professional developer. I am sure that your cloud provider of choice have some very simple steps you can follow to spin up a quick VPN server of your own if you would prefer to use a different provider.

I decided to use a pre-made openVPN server image as most of the configuration is already done. While openVPN does require a licence for commercial use, you can legally use up to two devices with a VPN instance. Perfect for my use-case.

## A word of warning

Before starting, consider what you want to do with your VPN. If you want to use it to stream Netflix videos that are only available in South Korea, that might be okay, just realise you will pay for the bandwidth of the data along with the instance time of the running server. You may also potentially need a more powerful host system which would also cost more. I haven't compared the costs for this use-case against well-known VPN services. They may well offer good value for money along with other features.

Other uses of VPNs do include some nefarious activities. Whatever you are using yours for, if you pay Microsoft Azure or any other cloud provider to host your VPN then there is a 'paper-trail' of invoices back to you (or your Azure account). I don't recommend using your VPN to do anything illegal.

## Using the Azure Portal

I really using the Azure shell. You can use either powershell or bash and both are great. I like to create and control via the command line. But for experimentation and initial tinkering I do find the Azure portal quite intuative and it can be easy to notice options that you may be unaware of if just using the command line.